"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{8063:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,o.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},4530:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,o.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9806:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,o.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6141:function(e,t,r){r.d(t,{Z:function(){return s}});var o=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,o.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8837:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var o=r(7437),s=r(1396),a=r.n(s),n=r(3732);function l(e){let{children:t,title:r,subtitle:s}=e;return(0,o.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"w-full max-w-md",children:[(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)(a(),{href:"/",className:"inline-flex items-center gap-3 mb-6",children:(0,o.jsx)(n.ZP,{size:"lg"})}),(0,o.jsx)("h1",{className:"text-3xl font-bold mb-2",children:r}),s&&(0,o.jsx)("p",{className:"text-muted-foreground",children:s})]}),(0,o.jsx)("div",{className:"bg-card rounded-2xl border security-glow p-8",children:t})]})})}},1121:function(e,t,r){r.d(t,{T:function(){return a}});var o=r(7437),s=r(9311);function a(e){let{size:t="md",className:r}=e;return(0,o.jsx)("div",{className:(0,s.cn)("animate-spin rounded-full border-2 border-current border-t-transparent",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t],r),children:(0,o.jsx)("span",{className:"sr-only",children:"Loading..."})})}},3732:function(e,t,r){r.d(t,{ZP:function(){return d}});var o=r(7437),s=r(1350),a=r(2265),n=r(6691),l=r.n(n),i=r(9036);let c={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},u={sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl"};function d(e){let{size:t="md",showText:r=!0,className:n=""}=e,{theme:d,resolvedTheme:g}=(0,s.F)(),[m,f]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{f(!0)},[]),!m)return(0,o.jsxs)("div",{className:"flex items-center gap-3 ".concat(n),children:[(0,o.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,o.jsx)(i.Z,{className:"".concat(c[t]," text-primary")})}),r&&(0,o.jsx)("span",{className:"font-bold ".concat(u[t]," text-muted-foreground"),children:"ABSK"})]});let p="dark"===(g||d)?"/images/logo-white.png":"/images/logo-blue.png";return(0,o.jsxs)("div",{className:"flex items-center gap-3 ".concat(n),children:[(0,o.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:h?(0,o.jsx)(i.Z,{className:"".concat(c[t]," text-primary")}):(0,o.jsx)(l(),{src:p,alt:"BRDZ Logo",width:64,height:64,className:"".concat(c[t]," object-contain"),priority:!0,onError:()=>{console.error("Logo image failed to load:",p),y(!0)}})}),r&&(0,o.jsx)("span",{className:"font-bold ".concat(u[t]," text-foreground"),children:"ABSK"})]})}},3023:function(e,t,r){r.d(t,{z:function(){return c}});var o=r(7437),s=r(2265),a=r(7256),n=r(9213),l=r(9311);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:c=!1,...u}=e,d=c?a.g7:"button";return(0,o.jsx)(d,{className:(0,l.cn)(i({variant:s,size:n,className:r})),ref:t,...u})});c.displayName="Button"},220:function(e,t,r){r.r(t),r.d(t,{AuthProvider:function(){return l},useAuth:function(){return i},useOptionalAuth:function(){return u},useRequireAuth:function(){return c}});var o=r(7437),s=r(2265),a=r(4033);let n=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[r,a]=(0,s.useState)({user:null,token:null,isAuthenticated:!1,isLoading:!0,ekycStatus:"PENDING"});(0,s.useEffect)(()=>{l()},[]);let l=()=>{try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("user_data"),r=localStorage.getItem("user_id"),o=localStorage.getItem("username"),s=localStorage.getItem("email");if(e&&t){let r=JSON.parse(t);a({user:i(r),token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:r.ekyc_status||"PENDING"})}else if(e&&r&&s){let t={user_id:r,id:parseInt(r)||void 0,email:s,username:o||"",ekyc_status:"PENDING"};a({user:t,token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:"PENDING"})}else a(e=>({...e,isLoading:!1}))}catch(e){console.error("Error checking stored auth:",e),a(e=>({...e,isLoading:!1}))}},i=e=>{var t,r;return{...e,user_id:(null===(t=e.user_id)||void 0===t?void 0:t.toString())||(null===(r=e.id)||void 0===r?void 0:r.toString())||"",id:"number"==typeof e.user_id?e.user_id:"number"==typeof e.id?e.id:parseInt(e.user_id)||parseInt(e.id)||void 0}},c=async(e,t)=>{try{let r=i(t);localStorage.setItem("auth_token",e),localStorage.setItem("user_data",JSON.stringify(r)),localStorage.setItem("user_id",r.user_id),localStorage.setItem("username",r.username),localStorage.setItem("email",r.email),a({user:r,token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:r.ekyc_status||"PENDING"}),console.log("✅ User logged in:",r)}catch(e){throw console.error("❌ Login error:",e),e}},u=async()=>{try{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),localStorage.removeItem("email"),a({user:null,token:null,isAuthenticated:!1,isLoading:!1,ekycStatus:"PENDING"}),console.log("\uD83D\uDC4B User logged out")}catch(e){throw console.error("❌ Logout error:",e),e}},d=async()=>{l()};return(0,o.jsx)(n.Provider,{value:{...r,login:c,logout:u,updateEkycStatus:e=>{if(a(t=>({...t,ekycStatus:e})),r.user){let t={...r.user,ekyc_status:e};localStorage.setItem("user_data",JSON.stringify(t)),a(e=>({...e,user:t}))}},refreshUserProfile:d},children:t})}function i(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(){let{isAuthenticated:e,ekycStatus:t,isLoading:r}=i(),o=(0,a.useRouter)();return(0,s.useEffect)(()=>{r||(e?"APPROVED"!==t&&(console.log("\uD83D\uDCCB Redirecting to eKYC - status:",t),o.push("/ekyc")):(console.log("\uD83D\uDD10 Redirecting to login - not authenticated"),o.push("/auth/login")))},[e,t,r,o]),{isAuthenticated:e,ekycStatus:t,isLoading:r}}function u(){let{isAuthenticated:e,ekycStatus:t,isLoading:r,user:o}=i();return{isAuthenticated:e,ekycStatus:t,isLoading:r,user:o,isFullyAuthenticated:e&&"APPROVED"===t}}},6951:function(e,t,r){r.d(t,{e:function(){return n}});var o=r(2265),s=r(790),a=r.n(s);let n=()=>{let[e,t]=(0,o.useState)({sdkReady:!1,isLoading:!0,error:null,hasApiKey:!1,hasToken:!1,baseUrl:null}),[r,s]=(0,o.useState)({user_id:null,username:null,email:null,isLoggedIn:!1});(0,o.useEffect)(()=>{let e=async()=>{try{console.log("\uD83D\uDE80 Initializing BRDZ SDK..."),t(e=>({...e,isLoading:!0,error:null}));let e="https://api.brdz.link/api",r="d99f8069e7620b091064f28e4c638e48aa630e730d22f278490bf5acfe17dc3f";if(!e)throw Error("NEXT_PUBLIC_BRDZ_API_BASE environment variable is required");if(!r)throw Error("NEXT_PUBLIC_BRDZ_API_KEY environment variable is required");let o=a().config;o.setBaseUrl(e),o.setApiKey(r),console.log("\uD83D\uDD27 SDK Base URL:",e),console.log("\uD83D\uDD11 API Key loaded (first 8 chars):",r.substring(0,8)+"...");let n=localStorage.getItem("auth_token"),l=localStorage.getItem("user_id"),i=localStorage.getItem("username"),c=localStorage.getItem("email");n&&(o.setToken(n),console.log("\uD83D\uDD10 JWT token restored from localStorage"),s({user_id:l,username:i,email:c,isLoggedIn:!0}));let u=a().utils.validateSDKSetup();t({sdkReady:!0,isLoading:!1,error:null,hasApiKey:!!r,hasToken:!!n,baseUrl:e}),console.log("✅ SDK initialized successfully"),u&&console.log("✅ SDK setup validation passed")}catch(e){console.error("❌ SDK initialization failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"SDK initialization failed"}))}};e()},[]);let n=(0,o.useCallback)(async(e,r)=>{try{t(e=>({...e,isLoading:!0,error:null}));let o=await a().auth.loginUser(e,r);if(o.success&&o.data.token){let{token:e,user:r}=o.data;return a().config.setToken(e),localStorage.setItem("auth_token",e),localStorage.setItem("user_id",r.id.toString()),localStorage.setItem("username",r.username||""),localStorage.setItem("email",r.email||""),t(e=>({...e,hasToken:!0,isLoading:!1})),s({user_id:r.id.toString(),username:r.username,email:r.email,isLoggedIn:!0}),console.log("✅ Login successful"),{success:!0,data:r}}throw Error(o.message||"Login failed")}catch(e){return console.error("❌ Login failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"Login failed"})),{success:!1,error:e.message}}},[]),l=(0,o.useCallback)(async e=>{try{t(e=>({...e,isLoading:!0,error:null}));let r=await a().auth.registerUser(e);if(t(e=>({...e,isLoading:!1})),r.success)return console.log("✅ Registration successful"),{success:!0,data:r.data};throw Error(r.message||"Registration failed")}catch(e){return console.error("❌ Registration failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"Registration failed"})),{success:!1,error:e.message}}},[]),i=(0,o.useCallback)(async e=>{try{localStorage.setItem("auth_token",e),a().config.setToken(e),t(e=>({...e,hasToken:!0})),console.log("\uD83D\uDD04 Token updated successfully")}catch(e){console.error("❌ Token update failed:",e),t(t=>({...t,error:e.message}))}},[]),c=(0,o.useCallback)(async()=>{try{localStorage.removeItem("auth_token"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),localStorage.removeItem("email"),a().config.setToken(""),t(e=>({...e,hasToken:!1,error:null})),s({user_id:null,username:null,email:null,isLoggedIn:!1}),console.log("\uD83D\uDC4B Logout successful")}catch(e){console.error("❌ Logout error:",e)}},[]),u=(0,o.useCallback)(()=>{console.log("\uD83D\uDD0D SDK Debug Information:"),a().utils.debugHeaders(),console.log("Current State:",e),console.log("Current User:",r)},[e,r]),d=(0,o.useCallback)(async()=>{try{t(e=>({...e,isLoading:!0,error:null}));let e=await a().testnet.getChainList();if(t(e=>({...e,isLoading:!1})),e.success)return console.log("✅ API connection test successful"),{success:!0,message:"API connection working"};throw Error("API test failed")}catch(e){return console.error("❌ API connection test failed:",e),t(t=>({...t,isLoading:!1,error:"API connection failed: ".concat(e.message)})),{success:!1,error:e.message}}},[]),g=(0,o.useCallback)(async()=>{if(!r.user_id)throw Error("User not logged in");try{let e=await a().auth.getUserProfile(r.user_id);return e}catch(e){throw console.error("❌ Failed to get user profile:",e),e}},[r.user_id]);return{...e,user:r,login:n,register:l,logout:c,updateToken:i,getUserProfile:g,debugSDK:u,testConnection:d,sdk:a(),shortcuts:{getWalletBalance:()=>a().wallet.getBalance(),getWalletHistory:()=>a().wallet.getHistory(),createCryptoWallet:e=>a().cryptoWallet.createWallet(e),getUserCryptoWallets:e=>a().cryptoWallet.getUserWallets(e),getMCPStats:()=>a().mcp.getDashboardStats(),getRecentOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return a().mcp.getRecentOrders({limit:e})},getAllTransactions:()=>a().transactions.getAll(),getTransactionById:e=>a().transactions.getById(e),getUSDCBalance:(e,t)=>a().crosschain.getUSDCBalance(e,t),getTestnetChains:()=>a().testnet.getChainList(),requestTestnetFaucet:e=>a().testnet.requestFaucetTransfer(e)},get isAuthenticated(){return e.hasToken&&r.isLoggedIn},get isReady(){return e.sdkReady&&!e.isLoading},get canMakeRequests(){return e.sdkReady&&e.hasApiKey&&!e.isLoading}}}},9311:function(e,t,r){r.d(t,{cn:function(){return a}});var o=r(7042),s=r(4769);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,o.W)(t))}}}]);