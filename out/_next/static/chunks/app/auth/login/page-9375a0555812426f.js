(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{9670:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1769:function(e,t,r){Promise.resolve().then(r.bind(r,8837)),Promise.resolve().then(r.bind(r,8673))},8837:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var s=r(7437),a=r(1396),n=r.n(a),o=r(3732);function l(e){let{children:t,title:r,subtitle:a}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(n(),{href:"/",className:"inline-flex items-center gap-3 mb-6",children:(0,s.jsx)(o.ZP,{size:"lg"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:r}),a&&(0,s.jsx)("p",{className:"text-muted-foreground",children:a})]}),(0,s.jsx)("div",{className:"bg-card rounded-2xl border security-glow p-8",children:t})]})})}},8673:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(7437),a=r(2265),n=r(4033),o=r(3023),l=r(1908),i=r(6672),c=r(1121),d=r(6951),u=r(220),m=r(1396),g=r.n(m),h=r(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,h.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var x=r(9670),p=r(3732);function v(){let[e,t]=(0,a.useState)({usernameoremail:"",password:""}),[r,m]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(""),[N,j]=(0,a.useState)(""),w=(0,n.useRouter)(),{sdkReady:D,sdk:S,error:k}=(0,d.e)(),{login:I}=(0,u.useAuth)(),_=async t=>{if(t.preventDefault(),v(!0),y(""),j(""),!D){y("SDK not ready. Please try again in a moment."),v(!1);return}if(!e.usernameoremail.trim()||!e.password.trim()){y("Please fill in all fields."),v(!1);return}try{var r,s,a,n,o,l,i,c,d,u;console.log("\uD83D\uDE80 Attempting login with:",{usernameoremail:e.usernameoremail,password:"[HIDDEN]"});let t=await S.auth.loginUser(e.usernameoremail.trim(),e.password);console.log("\uD83D\uDCE5 Login response:",t);let m=!0===t.success||t.data||t.status>=200&&t.status<300||t.token||(null===(r=t.data)||void 0===r?void 0:r.token)||t.user||(null===(s=t.data)||void 0===s?void 0:s.user);if(m){let e=t.token||(null===(a=t.data)||void 0===a?void 0:a.token)||t.access_token||(null===(n=t.data)||void 0===n?void 0:n.access_token),r=t.user||(null===(o=t.data)||void 0===o?void 0:o.user)||t.data||t,s=t.client||(null===(l=t.data)||void 0===l?void 0:l.client)||t.clientData;if(!e)throw Error("No authentication token received");if(!r||!r.user_id)throw Error("No user data received");console.log("✅ Login successful:",{token:e.substring(0,20)+"...",user:r.username||r.email,user_id:r.user_id}),j("Login successful! Redirecting..."),localStorage.setItem("auth_token",e),localStorage.setItem("user_id",(null===(i=r.user_id)||void 0===i?void 0:i.toString())||""),localStorage.setItem("username",r.username||""),localStorage.setItem("email",r.email||""),localStorage.setItem("phone",r.phone||""),localStorage.setItem("ekyc_status",r.ekyc_status||"PENDING"),localStorage.setItem("user_data",JSON.stringify(r)),s&&(localStorage.setItem("client_id",(null===(c=s.client_id)||void 0===c?void 0:c.toString())||""),localStorage.setItem("client_code",s.client_code||""),localStorage.setItem("client_type",s.client_type||""),localStorage.setItem("client_status",s.client_status||"")),t.permissions&&localStorage.setItem("user_permissions",JSON.stringify(t.permissions)),(t.role||r.role)&&localStorage.setItem("user_role",t.role||r.role),console.log("\uD83D\uDCBE Data exported to localStorage:",{token:(null==e?void 0:e.substring(0,20))+"...",user_id:r.user_id,username:r.username,email:r.email,ekyc_status:r.ekyc_status,client_id:(null==s?void 0:s.client_id)||"N/A"}),await I(e,r);let d=r.ekyc_status||"PENDING";setTimeout(()=>{"APPROVED"===d?w.push("/dashboard"):w.push("/ekyc")},1e3)}else{let e=t.error||t.message||(null===(d=t.data)||void 0===d?void 0:d.error)||(null===(u=t.data)||void 0===u?void 0:u.message)||"Login failed. Please check your credentials.";y(e),console.error("❌ Login failed with response:",t)}}catch(t){console.error("\uD83D\uDCA5 Login error caught:",t);let e="Login failed. Please try again.";if(t.response){let r=t.response.status,s=t.response.data;console.log("\uD83D\uDD0D Error response status:",r),console.log("\uD83D\uDD0D Error response data:",s),401===r?e="Invalid username/email or password. Please check your credentials.":404===r?e="User not found. Please check your username or email.":429===r?e="Too many login attempts. Please try again later.":500===r?e="Server error occurred. Please try again later.":(null==s?void 0:s.error)?e=s.error:(null==s?void 0:s.message)&&(e=s.message)}else t.message&&(e=t.message.includes("timeout")?"Request timeout. Please check your connection and try again.":t.message.includes("Network Error")?"Network error. Please check your internet connection.":t.message);y(e)}finally{v(!1)}},E=e=>r=>{t(t=>({...t,[e]:r.target.value}))};if(k)return(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsxs)("div",{className:"bg-red-600 text-white p-6 rounded-lg shadow-lg border border-red-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center mr-3",children:(0,s.jsx)("span",{className:"text-white font-bold text-lg",children:"!"})}),(0,s.jsx)("h3",{className:"text-xl font-bold",children:"SDK Initialization Failed"})]}),(0,s.jsx)("p",{className:"text-lg mb-4",children:k}),(0,s.jsx)("p",{className:"text-red-100 text-sm",children:"Please check your environment configuration and restart the application."})]}),(0,s.jsx)(o.z,{onClick:()=>window.location.reload(),variant:"outline",className:"w-full bg-white text-red-600 border-red-600 hover:bg-red-50",children:"Reload Page"})]});let P=e.usernameoremail.trim()&&e.password.trim(),L={usernameoremail:{isValid:e.usernameoremail.trim().length>0,message:0===e.usernameoremail.trim().length?"Username or email is required":"",hasError:0===e.usernameoremail.trim().length&&e.usernameoremail.length>0},password:{isValid:e.password.trim().length>0,message:0===e.password.trim().length?"Password is required":"",hasError:0===e.password.trim().length&&e.password.length>0}};return(0,s.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,s.jsx)("div",{className:"text-center mb-6",children:(0,s.jsx)(p.ZP,{size:"lg",className:"mx-auto mb-4"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(i._,{htmlFor:"usernameoremail",className:"text-sm font-medium",children:["Email or Username ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),e.usernameoremail.length>0&&(0,s.jsx)("div",{className:"flex items-center gap-1",children:L.usernameoremail.isValid?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs",children:"Valid"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1 text-red-600",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs",children:"Required"})]})})]}),(0,s.jsx)(l.I,{id:"usernameoremail",type:"text",placeholder:"Enter your email or username",value:e.usernameoremail,onChange:E("usernameoremail"),required:!0,disabled:h||!D,className:"h-12 transition-all duration-200 ".concat(L.usernameoremail.hasError?"border-red-500 focus:border-red-500 focus:ring-red-500/20":L.usernameoremail.isValid?"border-green-500 focus:border-green-500 focus:ring-green-500/20":"border-gray-300 focus:border-blue-500 focus:ring-blue-500/20")}),L.usernameoremail.message&&(0,s.jsxs)("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),L.usernameoremail.message]}),0===e.usernameoremail.length&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the email or username you used during registration"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(i._,{htmlFor:"password",className:"text-sm font-medium",children:["Password ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),e.password.length>0&&(0,s.jsx)("div",{className:"flex items-center gap-1",children:L.password.isValid?(0,s.jsxs)("div",{className:"flex items-center gap-1 text-green-600",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs",children:"Valid"})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1 text-red-600",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,s.jsx)("span",{className:"text-xs",children:"Required"})]})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.I,{id:"password",type:r?"text":"password",placeholder:"Enter your password",value:e.password,onChange:E("password"),required:!0,disabled:h||!D,className:"h-12 pr-12 transition-all duration-200 ".concat(L.password.hasError?"border-red-500 focus:border-red-500 focus:ring-red-500/20":L.password.isValid?"border-green-500 focus:border-green-500 focus:ring-green-500/20":"border-gray-300 focus:border-blue-500 focus:ring-blue-500/20")}),(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-12 w-12 hover:bg-transparent",onClick:()=>m(!r),disabled:h||!D,children:r?(0,s.jsx)(f,{className:"h-4 w-4"}):(0,s.jsx)(x.Z,{className:"h-4 w-4"})})]}),L.password.message&&(0,s.jsxs)("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),L.password.message]}),0===e.password.length&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the password for your account"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[!D&&(0,s.jsx)("div",{className:"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:"Initializing secure connection..."}),(0,s.jsxs)("div",{className:"p-3 rounded-lg border ".concat(P?"bg-green-50 border-green-200 text-green-800":"bg-amber-50 border-amber-200 text-amber-800"),children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:P?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Form is ready to submit"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-amber-500 rounded-full"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Please complete all required fields"})]})}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,s.jsx)("span",{children:"Form Completion"}),(0,s.jsxs)("span",{children:[Object.values(L).filter(e=>e.isValid).length,"/2"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(P?"bg-green-500":"bg-amber-500"),style:{width:"".concat(Object.values(L).filter(e=>e.isValid).length/2*100,"%")}})})]}),(0,s.jsx)("div",{className:"mt-2 text-xs",children:P?"All fields are valid. You can now log in.":"".concat(2-Object.values(L).filter(e=>e.isValid).length," of 2 fields completed")})]}),b&&(0,s.jsx)("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded-lg border border-destructive/20",children:b})]}),N&&(0,s.jsx)("div",{className:"text-sm text-secondary bg-secondary/10 p-3 rounded-lg",children:N}),(0,s.jsx)(o.z,{type:"submit",className:"w-full h-12 transition-all duration-200 ".concat(P&&D?"gradient-primary text-white border-0 security-glow hover:shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed border-0"),disabled:h||!P||!D,children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.T,{className:"mr-2"}),"Signing In..."]}):D?P?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-2"}),"Sign In"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-gray-400 rounded-full mr-2"}),"Complete Required Fields"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.T,{className:"mr-2"}),"Initializing..."]})}),(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,s.jsx)(g(),{href:"/auth/register",className:"text-primary hover:underline font-medium",children:"Sign up"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,s.jsx)(g(),{href:"/auth/forgot-password",className:"text-primary hover:underline",children:"Forgot your password?"})})]}),(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center mt-0.5",children:(0,s.jsx)("span",{className:"text-white text-xs font-bold",children:"\uD83D\uDCA1"})}),(0,s.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Quick Tips:"}),(0,s.jsxs)("ul",{className:"text-xs space-y-1",children:[(0,s.jsx)("li",{children:"• Use the email or username you registered with"}),(0,s.jsx)("li",{children:"• Passwords are case-sensitive"}),(0,s.jsx)("li",{children:"• You'll receive a mobile push notification for 2FA"}),(0,s.jsx)("li",{children:"• Keep your device nearby for authentication"})]})]})]})}),!1]})}},1121:function(e,t,r){"use strict";r.d(t,{T:function(){return n}});var s=r(7437),a=r(9311);function n(e){let{size:t="md",className:r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-current border-t-transparent",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t],r),children:(0,s.jsx)("span",{className:"sr-only",children:"Loading..."})})}},3732:function(e,t,r){"use strict";r.d(t,{ZP:function(){return u}});var s=r(7437),a=r(1350),n=r(2265),o=r(6691),l=r.n(o),i=r(9036);let c={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},d={sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl"};function u(e){let{size:t="md",showText:r=!0,className:o=""}=e,{theme:u,resolvedTheme:m}=(0,a.F)(),[g,h]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{h(!0)},[]),!g)return(0,s.jsxs)("div",{className:"flex items-center gap-3 ".concat(o),children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(i.Z,{className:"".concat(c[t]," text-primary")})}),r&&(0,s.jsx)("span",{className:"font-bold ".concat(d[t]," text-muted-foreground"),children:"ABSK"})]});let p="dark"===(m||u)?"/images/logo-white.png":"/images/logo-blue.png";return(0,s.jsxs)("div",{className:"flex items-center gap-3 ".concat(o),children:[(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:f?(0,s.jsx)(i.Z,{className:"".concat(c[t]," text-primary")}):(0,s.jsx)(l(),{src:p,alt:"BRDZ Logo",width:64,height:64,className:"".concat(c[t]," object-contain"),priority:!0,onError:()=>{console.error("Logo image failed to load:",p),x(!0)}})}),r&&(0,s.jsx)("span",{className:"font-bold ".concat(d[t]," text-foreground"),children:"ABSK"})]})}},3023:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),a=r(2265),n=r(7256),o=r(9213),l=r(9311);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:c=!1,...d}=e,u=c?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(i({variant:a,size:o,className:r})),ref:t,...d})});c.displayName="Button"},1908:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var s=r(7437),a=r(2265),n=r(9311);let o=a.forwardRef((e,t)=>{let{className:r,type:a,...o}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...o})});o.displayName="Input"},6672:function(e,t,r){"use strict";r.d(t,{_:function(){return c}});var s=r(7437),a=r(2265),n=r(6743),o=r(9213),l=r(9311);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.f,{ref:t,className:(0,l.cn)(i(),r),...a})});c.displayName=n.f.displayName},220:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return l},useAuth:function(){return i},useOptionalAuth:function(){return d},useRequireAuth:function(){return c}});var s=r(7437),a=r(2265),n=r(4033);let o=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[r,n]=(0,a.useState)({user:null,token:null,isAuthenticated:!1,isLoading:!0,ekycStatus:"PENDING"});(0,a.useEffect)(()=>{l()},[]);let l=()=>{try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("user_data"),r=localStorage.getItem("user_id"),s=localStorage.getItem("username"),a=localStorage.getItem("email");if(e&&t){let r=JSON.parse(t);n({user:i(r),token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:r.ekyc_status||"PENDING"})}else if(e&&r&&a){let t={user_id:r,id:parseInt(r)||void 0,email:a,username:s||"",ekyc_status:"PENDING"};n({user:t,token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:"PENDING"})}else n(e=>({...e,isLoading:!1}))}catch(e){console.error("Error checking stored auth:",e),n(e=>({...e,isLoading:!1}))}},i=e=>{var t,r;return{...e,user_id:(null===(t=e.user_id)||void 0===t?void 0:t.toString())||(null===(r=e.id)||void 0===r?void 0:r.toString())||"",id:"number"==typeof e.user_id?e.user_id:"number"==typeof e.id?e.id:parseInt(e.user_id)||parseInt(e.id)||void 0}},c=async(e,t)=>{try{let r=i(t);localStorage.setItem("auth_token",e),localStorage.setItem("user_data",JSON.stringify(r)),localStorage.setItem("user_id",r.user_id),localStorage.setItem("username",r.username),localStorage.setItem("email",r.email),n({user:r,token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:r.ekyc_status||"PENDING"}),console.log("✅ User logged in:",r)}catch(e){throw console.error("❌ Login error:",e),e}},d=async()=>{try{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),localStorage.removeItem("email"),n({user:null,token:null,isAuthenticated:!1,isLoading:!1,ekycStatus:"PENDING"}),console.log("\uD83D\uDC4B User logged out")}catch(e){throw console.error("❌ Logout error:",e),e}},u=async()=>{l()};return(0,s.jsx)(o.Provider,{value:{...r,login:c,logout:d,updateEkycStatus:e=>{if(n(t=>({...t,ekycStatus:e})),r.user){let t={...r.user,ekyc_status:e};localStorage.setItem("user_data",JSON.stringify(t)),n(e=>({...e,user:t}))}},refreshUserProfile:u},children:t})}function i(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(){let{isAuthenticated:e,ekycStatus:t,isLoading:r}=i(),s=(0,n.useRouter)();return(0,a.useEffect)(()=>{r||(e?"APPROVED"!==t&&(console.log("\uD83D\uDCCB Redirecting to eKYC - status:",t),s.push("/ekyc")):(console.log("\uD83D\uDD10 Redirecting to login - not authenticated"),s.push("/auth/login")))},[e,t,r,s]),{isAuthenticated:e,ekycStatus:t,isLoading:r}}function d(){let{isAuthenticated:e,ekycStatus:t,isLoading:r,user:s}=i();return{isAuthenticated:e,ekycStatus:t,isLoading:r,user:s,isFullyAuthenticated:e&&"APPROVED"===t}}},6951:function(e,t,r){"use strict";r.d(t,{e:function(){return o}});var s=r(2265),a=r(790),n=r.n(a);let o=()=>{let[e,t]=(0,s.useState)({sdkReady:!1,isLoading:!0,error:null,hasApiKey:!1,hasToken:!1,baseUrl:null}),[r,a]=(0,s.useState)({user_id:null,username:null,email:null,isLoggedIn:!1});(0,s.useEffect)(()=>{let e=async()=>{try{console.log("\uD83D\uDE80 Initializing BRDZ SDK..."),t(e=>({...e,isLoading:!0,error:null}));let e="https://api.brdz.link/api",r="d99f8069e7620b091064f28e4c638e48aa630e730d22f278490bf5acfe17dc3f";if(!e)throw Error("NEXT_PUBLIC_BRDZ_API_BASE environment variable is required");if(!r)throw Error("NEXT_PUBLIC_BRDZ_API_KEY environment variable is required");let s=n().config;s.setBaseUrl(e),s.setApiKey(r),console.log("\uD83D\uDD27 SDK Base URL:",e),console.log("\uD83D\uDD11 API Key loaded (first 8 chars):",r.substring(0,8)+"...");let o=localStorage.getItem("auth_token"),l=localStorage.getItem("user_id"),i=localStorage.getItem("username"),c=localStorage.getItem("email");o&&(s.setToken(o),console.log("\uD83D\uDD10 JWT token restored from localStorage"),a({user_id:l,username:i,email:c,isLoggedIn:!0}));let d=n().utils.validateSDKSetup();t({sdkReady:!0,isLoading:!1,error:null,hasApiKey:!!r,hasToken:!!o,baseUrl:e}),console.log("✅ SDK initialized successfully"),d&&console.log("✅ SDK setup validation passed")}catch(e){console.error("❌ SDK initialization failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"SDK initialization failed"}))}};e()},[]);let o=(0,s.useCallback)(async(e,r)=>{try{t(e=>({...e,isLoading:!0,error:null}));let s=await n().auth.loginUser(e,r);if(s.success&&s.data.token){let{token:e,user:r}=s.data;return n().config.setToken(e),localStorage.setItem("auth_token",e),localStorage.setItem("user_id",r.id.toString()),localStorage.setItem("username",r.username||""),localStorage.setItem("email",r.email||""),t(e=>({...e,hasToken:!0,isLoading:!1})),a({user_id:r.id.toString(),username:r.username,email:r.email,isLoggedIn:!0}),console.log("✅ Login successful"),{success:!0,data:r}}throw Error(s.message||"Login failed")}catch(e){return console.error("❌ Login failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"Login failed"})),{success:!1,error:e.message}}},[]),l=(0,s.useCallback)(async e=>{try{t(e=>({...e,isLoading:!0,error:null}));let r=await n().auth.registerUser(e);if(t(e=>({...e,isLoading:!1})),r.success)return console.log("✅ Registration successful"),{success:!0,data:r.data};throw Error(r.message||"Registration failed")}catch(e){return console.error("❌ Registration failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"Registration failed"})),{success:!1,error:e.message}}},[]),i=(0,s.useCallback)(async e=>{try{localStorage.setItem("auth_token",e),n().config.setToken(e),t(e=>({...e,hasToken:!0})),console.log("\uD83D\uDD04 Token updated successfully")}catch(e){console.error("❌ Token update failed:",e),t(t=>({...t,error:e.message}))}},[]),c=(0,s.useCallback)(async()=>{try{localStorage.removeItem("auth_token"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),localStorage.removeItem("email"),n().config.setToken(""),t(e=>({...e,hasToken:!1,error:null})),a({user_id:null,username:null,email:null,isLoggedIn:!1}),console.log("\uD83D\uDC4B Logout successful")}catch(e){console.error("❌ Logout error:",e)}},[]),d=(0,s.useCallback)(()=>{console.log("\uD83D\uDD0D SDK Debug Information:"),n().utils.debugHeaders(),console.log("Current State:",e),console.log("Current User:",r)},[e,r]),u=(0,s.useCallback)(async()=>{try{t(e=>({...e,isLoading:!0,error:null}));let e=await n().testnet.getChainList();if(t(e=>({...e,isLoading:!1})),e.success)return console.log("✅ API connection test successful"),{success:!0,message:"API connection working"};throw Error("API test failed")}catch(e){return console.error("❌ API connection test failed:",e),t(t=>({...t,isLoading:!1,error:"API connection failed: ".concat(e.message)})),{success:!1,error:e.message}}},[]),m=(0,s.useCallback)(async()=>{if(!r.user_id)throw Error("User not logged in");try{let e=await n().auth.getUserProfile(r.user_id);return e}catch(e){throw console.error("❌ Failed to get user profile:",e),e}},[r.user_id]);return{...e,user:r,login:o,register:l,logout:c,updateToken:i,getUserProfile:m,debugSDK:d,testConnection:u,sdk:n(),shortcuts:{getWalletBalance:()=>n().wallet.getBalance(),getWalletHistory:()=>n().wallet.getHistory(),createCryptoWallet:e=>n().cryptoWallet.createWallet(e),getUserCryptoWallets:e=>n().cryptoWallet.getUserWallets(e),getMCPStats:()=>n().mcp.getDashboardStats(),getRecentOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return n().mcp.getRecentOrders({limit:e})},getAllTransactions:()=>n().transactions.getAll(),getTransactionById:e=>n().transactions.getById(e),getUSDCBalance:(e,t)=>n().crosschain.getUSDCBalance(e,t),getTestnetChains:()=>n().testnet.getChainList(),requestTestnetFaucet:e=>n().testnet.requestFaucetTransfer(e)},get isAuthenticated(){return e.hasToken&&r.isLoggedIn},get isReady(){return e.sdkReady&&!e.isLoading},get canMakeRequests(){return e.sdkReady&&e.hasApiKey&&!e.isLoading}}}},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(7042),a=r(4769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},6743:function(e,t,r){"use strict";r.d(t,{f:function(){return l}});var s=r(2265),a=r(9381),n=r(7437),o=s.forwardRef((e,t)=>(0,n.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{let r=t.target;r.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var l=o},9381:function(e,t,r){"use strict";r.d(t,{WV:function(){return l},jH:function(){return i}});var s=r(2265),a=r(4887),n=r(7256),o=r(7437),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=s.forwardRef((e,r)=>{let{asChild:s,...a}=e,l=s?n.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(l,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function i(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[367,708,971,864,744],function(){return e(e.s=1769)}),_N_E=e.O()}]);