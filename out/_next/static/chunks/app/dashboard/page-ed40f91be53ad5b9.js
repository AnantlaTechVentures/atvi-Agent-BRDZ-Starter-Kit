(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{8063:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3711:function(e,s,a){"use strict";a.d(s,{Z:function(){return l}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},5877:function(e,s,a){Promise.resolve().then(a.bind(a,4935))},4935:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return eN}});var t=a(7437),l=a(220),n=a(9744),r=a(2265),i=a(862),d=a(6951),c=a(1121),o=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,o.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),x=(0,o.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function u(e){let{title:s,amount:a,currency:l,trend:n,className:r=""}=e,i=n&&n>0;return(0,t.jsx)("div",{className:"p-6 bg-card rounded-xl border security-glow ".concat(r),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:s}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:["USD"===l?"$":"",a.toLocaleString(),"USD"!==l&&" ".concat(l)]})]}),void 0!==n&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm ".concat(i?"text-secondary":"text-destructive"),children:[i?(0,t.jsx)(m,{className:"h-4 w-4"}):(0,t.jsx)(x,{className:"h-4 w-4"}),Math.abs(n),"%"]})]})})}var h=a(4280),f=a(6224),p=a(3711),g=a(9883),j=a(6020),N=a(3023),v=a(9155);function b(e){var s;let{chain:a,onRefresh:l,onSend:n,onReceive:i}=e,[d,c]=(0,r.useState)(!1),o=(e=>{switch(e.toLowerCase()){case"sepolia":return{name:"Sepolia Testnet",shortName:"Sepolia",color:"bg-blue-500",explorer:"https://sepolia.etherscan.io",nativeSymbol:"ETH",chainId:11155111,icon:"⟠"};case"amoy":return{name:"Polygon Amoy Testnet",shortName:"Amoy",color:"bg-purple-500",explorer:"https://amoy.polygonscan.com",nativeSymbol:"MATIC",chainId:80002,icon:"⬡"};case"neon":return{name:"Neon EVM Devnet",shortName:"Neon Devnet",color:"bg-green-500",explorer:"https://neon-devnet.blockscout.com",nativeSymbol:"NEON",chainId:245022926,icon:"◉"};default:return{name:e.charAt(0).toUpperCase()+e.slice(1),shortName:e,color:"bg-gray-500",explorer:"#",nativeSymbol:"UNKNOWN",chainId:0,icon:"⚪"}}})(a.chain),m=async()=>{try{await navigator.clipboard.writeText(a.address),c(!0),setTimeout(()=>c(!1),2e3)}catch(s){let e=document.createElement("textarea");e.value=a.address,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),c(!0),setTimeout(()=>c(!1),2e3)}},x=e=>{let s="string"==typeof e?parseFloat(e):e;return isNaN(s)||0===s?"0.000000":s<1e-6?"< 0.000001":s<1?s.toFixed(6):s<1e3?s.toFixed(4):s.toLocaleString("en-US",{maximumFractionDigits:2})},u=e=>e&&0!==e?e<.01?"< $0.01":"$".concat(e.toFixed(2)):"$0.00";return(0,t.jsxs)("div",{className:"p-4 bg-card rounded-xl border border-border/50 hover:border-border transition-all duration-200 hover:shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(o.color," flex items-center justify-center text-white font-semibold text-sm"),children:o.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)(v.C,{variant:"secondary",className:"text-xs font-medium mb-1",children:o.shortName}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:o.name})]})]}),(0,t.jsx)("div",{className:"flex gap-1",children:l&&(0,t.jsx)(N.z,{size:"icon",variant:"ghost",className:"h-8 w-8 hover:bg-muted",onClick:l,title:"Refresh Balance",children:(0,t.jsx)(h.Z,{className:"h-3.5 w-3.5"})})})]}),(0,t.jsx)("div",{className:"mb-4 p-3 bg-muted/30 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Wallet Address"}),(0,t.jsx)("p",{className:"text-sm font-mono text-foreground truncate",title:a.address,children:(s=a.address)?"".concat(s.slice(0,6),"...").concat(s.slice(-4)):"N/A"})]}),(0,t.jsxs)("div",{className:"flex gap-1 ml-2",children:[(0,t.jsx)(N.z,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-background",onClick:m,title:d?"Copied!":"Copy Address",children:(0,t.jsx)(f.Z,{className:"h-3 w-3 ".concat(d?"text-green-500":"")})}),(0,t.jsx)(N.z,{size:"icon",variant:"ghost",className:"h-7 w-7 hover:bg-background",onClick:()=>window.open("".concat(o.explorer,"/address/").concat(a.address),"_blank"),title:"View on Explorer",disabled:"#"===o.explorer,children:(0,t.jsx)(p.Z,{className:"h-3 w-3"})})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"p-3 bg-muted/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"USDC Balance"}),(0,t.jsx)(v.C,{variant:"outline",className:"text-xs px-1.5 py-0",children:"USDC"})]}),(0,t.jsx)("p",{className:"text-base font-semibold text-foreground",children:x(a.balance)}),void 0!==a.usd_value&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:u(a.usd_value)})]}),(0,t.jsxs)("div",{className:"p-3 bg-muted/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Native Balance"}),(0,t.jsx)(v.C,{variant:"outline",className:"text-xs px-1.5 py-0",children:o.nativeSymbol})]}),(0,t.jsx)("p",{className:"text-base font-semibold text-foreground",children:x(a.native_balance)}),void 0!==a.native_usd_value&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:u(a.native_usd_value)})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[i&&(0,t.jsxs)(N.z,{size:"sm",variant:"outline",className:"flex-1 h-8",onClick:()=>i(a.chain,a.address),children:[(0,t.jsx)(g.Z,{className:"h-3.5 w-3.5 mr-1.5"}),"Receive"]}),n&&(0,t.jsxs)(N.z,{size:"sm",variant:"outline",className:"flex-1 h-8",onClick:()=>n(a.chain,a.address),disabled:0===parseFloat(a.balance)&&0===parseFloat(a.native_balance),children:[(0,t.jsx)(j.Z,{className:"h-3.5 w-3.5 mr-1.5"}),"Send"]}),(0,t.jsx)(N.z,{size:"sm",variant:"ghost",className:"px-3 h-8",onClick:()=>window.open("".concat(o.explorer,"/address/").concat(a.address),"_blank"),disabled:"#"===o.explorer,children:"Explorer"})]}),(0,t.jsx)("div",{className:"mt-3 pt-3 border-t border-border/30",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Chain ID: ",o.chainId]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),"neon"===a.chain.toLowerCase()?"Devnet":"Testnet"]})]})})]})}var y=a(1206),w=a(1908),C=a(6672),_=a(2609),k=a(4822),D=a(1827),S=a(5367);let z=[{id:"sepolia",name:"Sepolia Testnet",shortName:"Sepolia",symbol:"ETH",color:"bg-blue-500",icon:"\uD83D\uDD37"},{id:"amoy",name:"Polygon Amoy",shortName:"Amoy",symbol:"MATIC",color:"bg-purple-500",icon:"\uD83D\uDFE3"},{id:"neon",name:"Neon EVM",shortName:"Neon",symbol:"NEON",color:"bg-green-500",icon:"\uD83D\uDFE2"}];function A(e){let{wallets:s,onWalletsUpdate:a,selectedWallet:l,onWalletSelect:n}=e,[i,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[u,h]=(0,r.useState)([]),[j,b]=(0,r.useState)(""),[y,A]=(0,r.useState)(!1),[T,F]=(0,r.useState)(null),[Z,W]=(0,r.useState)(""),{sdkReady:R,sdk:I}=(0,d.e)(),U=z.filter(e=>e.name.toLowerCase().includes(j.toLowerCase())||e.symbol.toLowerCase().includes(j.toLowerCase())),E=e=>{h(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},V=async()=>{if(R&&m.trim()&&0!==u.length){A(!0),W("");try{let e=localStorage.getItem("user_id");if(!e)throw Error("User ID not found");console.log("Creating wallet with chains:",{walletName:m,selectedChains:u});let s=await I.cryptoWallet.createWallet({wallet_name:m.trim(),user_id:parseInt(e)});if(!s.success&&!s.data)throw Error(s.error||"Failed to create wallet");let t=s.data||s,l=t.id||t.wallet_id;console.log("Wallet created:",t);let n=u.map(async e=>{try{console.log("Adding chain ".concat(e," to wallet ").concat(l));let s=await I.cryptoWallet.addChainAddress(l,{chain_id:e});return console.log("Chain ".concat(e," added:"),s),s}catch(s){return console.error("Failed to add chain ".concat(e,":"),s),null}});await Promise.all(n),x(""),h([]),o(!1),a()}catch(e){console.error("Failed to create wallet:",e),W(e.message||"Failed to create wallet")}finally{A(!1)}}},M=async(e,s)=>{if(R){F(s);try{let e=localStorage.getItem("user_id"),t=await I.cryptoWallet.deleteWallet(s,{confirmation:"delete",user_id:parseInt(e||"0")});t.success||t.data?a():W(t.error||"Failed to delete wallet")}catch(e){console.error("Failed to delete wallet:",e),W(e.message||"Failed to delete wallet")}finally{F(null)}}},P=e=>e.chains.reduce((e,s)=>e+parseFloat(s.balance||"0"),0),L=e=>{navigator.clipboard.writeText(e)},B=(e,s)=>({sepolia:"https://sepolia.etherscan.io/address/".concat(s),amoy:"https://amoy.polygonscan.com/address/".concat(s),neon:"https://neonscan.org/address/".concat(s)})[e]||"#";return R?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg border-dashed border-2",children:[(0,t.jsxs)("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 text-primary"}),"Create New Crosschain Wallet"]}),(0,t.jsxs)(_.Vq,{open:i,onOpenChange:o,children:[(0,t.jsx)(_.hg,{asChild:!0,children:(0,t.jsxs)(N.z,{className:"w-full gradient-primary text-white border-0",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Add New Wallet"]})}),(0,t.jsxs)(_.cZ,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,t.jsx)(_.fK,{children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)(_.$N,{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"h-5 w-5"}),"Add New Wallet"]})})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Name this new wallet and add one or more blockchains in order to create an address for each blockchain added. Additional blockchains can be added to the wallet later."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{htmlFor:"walletName",children:"Wallet Name *"}),(0,t.jsx)(w.I,{id:"walletName",value:m,onChange:e=>x(e.target.value),placeholder:"e.g., Trading Wallet, DeFi Portfolio...",maxLength:50})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(C._,{children:"Add blockchains to wallet"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(D.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(w.I,{placeholder:"Find a Blockchain",value:j,onChange:e=>b(e.target.value),className:"pl-10 w-64"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Testnets"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:U.map(e=>{let s=u.includes(e.id);return(0,t.jsx)("div",{onClick:()=>E(e.id),className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(s?"border-primary bg-primary/10":"border-border hover:border-muted-foreground/30 hover:bg-muted/50"),children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("div",{className:"text-2xl",children:e.icon}),(0,t.jsx)("p",{className:"font-medium text-sm",children:e.shortName}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.name})]})},e.id)})})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[u.length," Selected"]})}),Z&&(0,t.jsx)("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded",children:Z}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(N.z,{variant:"outline",onClick:()=>{o(!1),x(""),h([]),W("")},disabled:y,className:"flex-1",children:"Cancel"}),(0,t.jsx)(N.z,{onClick:V,disabled:y||!m.trim()||0===u.length,className:"flex-1 gradient-primary text-white border-0",children:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.T,{className:"mr-2",size:"sm"}),"Creating Wallet..."]}):"Create Wallet"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h4",{className:"font-medium flex items-center justify-between",children:["Your Wallets (",s.length,")",s.length>0&&(0,t.jsxs)(v.C,{variant:"secondary",className:"text-xs",children:["Total: $",s.reduce((e,s)=>e+P(s),0).toFixed(2)," USDC"]})]}),0===s.length?(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)(k.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),(0,t.jsx)("p",{className:"font-medium",children:"No crosschain wallets found"}),(0,t.jsx)("p",{className:"text-sm",children:"Create your first wallet to get started with crosschain operations"})]}):(0,t.jsx)("div",{className:"space-y-3",children:s.map(e=>{let s=P(e),a=(null==l?void 0:l.id)===e.id;return(0,t.jsxs)("div",{className:"group border rounded-lg transition-all ".concat(a?"border-primary bg-primary/5 ring-1 ring-primary/20":"border-border hover:bg-muted/50 hover:border-muted-foreground/30"),children:[(0,t.jsx)("div",{className:"p-4 cursor-pointer",onClick:()=>n(e),children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h5",{className:"font-medium truncate",children:e.name}),a&&(0,t.jsx)(v.C,{variant:"default",className:"text-xs",children:"Selected"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.chains.length," chain",1!==e.chains.length?"s":""," connected"]}),(0,t.jsxs)("p",{className:"text-sm font-mono",children:["$",s.toFixed(2)," USDC"]})]}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:e.chains.map((e,s)=>{let a=z.find(s=>s.id===e.chain);return(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat((null==a?void 0:a.color)||"bg-gray-400"),title:"".concat(e.chain,": ").concat(e.balance," USDC")},s)})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,t.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),!a&&(0,t.jsx)(N.z,{size:"sm",variant:"ghost",onClick:s=>{s.stopPropagation(),confirm('Delete wallet "'.concat(e.name,'"? This action cannot be undone.'))&&M(e.id,e.bw_id)},disabled:T===e.bw_id,className:"opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",children:T===e.bw_id?(0,t.jsx)(c.T,{size:"sm"}):(0,t.jsx)(S.Z,{className:"h-3 w-3"})})]})]})}),a&&e.chains.length>0&&(0,t.jsx)("div",{className:"px-4 pb-4 border-t border-border/50",children:(0,t.jsx)("div",{className:"mt-4 space-y-3",children:e.chains.map((e,s)=>{let a=z.find(s=>s.id===e.chain);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"text-lg",children:null==a?void 0:a.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:null==a?void 0:a.shortName}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground font-mono",children:[e.address.slice(0,6),"...",e.address.slice(-4)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-mono",children:[e.balance," USDC"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.native_balance," ",null==a?void 0:a.symbol]})]}),(0,t.jsx)(N.z,{size:"sm",variant:"ghost",onClick:()=>L(e.address),children:(0,t.jsx)(f.Z,{className:"h-3 w-3"})}),(0,t.jsx)(N.z,{size:"sm",variant:"ghost",onClick:()=>window.open(B(e.chain,e.address),"_blank"),children:(0,t.jsx)(p.Z,{className:"h-3 w-3"})})]})]},s)})})})]},e.id)})})]})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(c.T,{}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Loading wallet controls..."})]})}var T=a(8094);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let F=(0,o.Z)("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),Z=[{id:"sepolia",name:"Sepolia Testnet",symbol:"ETH",color:"bg-blue-500"},{id:"amoy",name:"Polygon Amoy",symbol:"MATIC",color:"bg-purple-500"},{id:"neon",name:"Neon EVM",symbol:"NEON",color:"bg-green-500"}];function W(e){var s,a,l;let{wallets:n,selectedWallet:i,selectedChain:o,onChainChange:m}=e,[x,u]=(0,r.useState)("send"),[h,v]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[_,k]=(0,r.useState)("amoy"),[D,S]=(0,r.useState)(!1),[z,A]=(0,r.useState)(""),[W,R]=(0,r.useState)(""),{sdkReady:I,sdk:U}=(0,d.e)(),E=async e=>{if(e.preventDefault(),I&&i){S(!0),A(""),R("");try{var s,a,t;let e;if("send"===x?e=await U.crosschain.initiateTransfer({user_id:i.user_id||parseInt(localStorage.getItem("user_id")||"0"),amount:parseFloat(h),from_chain:o,to_chain:o,token:"USDC",recipient_address:b,return_address:(null===(s=i.chains.find(e=>e.chain===o))||void 0===s?void 0:s.address)||""}):"bridge"===x&&(e=await U.crosschain.initiateTransfer({user_id:i.user_id||parseInt(localStorage.getItem("user_id")||"0"),amount:parseFloat(h),from_chain:o,to_chain:_,token:"USDC",recipient_address:(null===(a=i.chains.find(e=>e.chain===_))||void 0===a?void 0:a.address)||"",return_address:(null===(t=i.chains.find(e=>e.chain===o))||void 0===t?void 0:t.address)||""})),(null==e?void 0:e.success)||(null==e?void 0:e.data)){let s=e.data||e;s.tx_hash&&R(s.tx_hash),v(""),y("")}else A((null==e?void 0:e.error)||"Transaction failed")}catch(e){console.error("Transaction failed:",e),A(e.message||"Transaction failed. Please try again.")}finally{S(!1)}}},V=e=>{navigator.clipboard.writeText(e)},M=()=>Z.find(e=>e.id===o),P=()=>{if(!i)return"0.00";let e=i.chains.find(e=>e.chain===o);return(null==e?void 0:e.balance)||"0.00"},L=e=>({sepolia:"https://sepolia.etherscan.io/tx/".concat(e),amoy:"https://amoy.polygonscan.com/tx/".concat(e),neon:"https://neonscan.org/tx/".concat(e)})[o]||"#";return I?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex gap-2 p-1 bg-muted rounded-lg",children:[(0,t.jsxs)(N.z,{variant:"send"===x?"default":"ghost",size:"sm",onClick:()=>u("send"),className:"send"===x?"gradient-primary text-white border-0":"",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Send USDC"]}),(0,t.jsxs)(N.z,{variant:"bridge"===x?"default":"ghost",size:"sm",onClick:()=>u("bridge"),className:"bridge"===x?"gradient-primary text-white border-0":"",children:[(0,t.jsx)(F,{className:"h-4 w-4 mr-2"}),"Bridge"]}),(0,t.jsxs)(N.z,{variant:"receive"===x?"default":"ghost",size:"sm",onClick:()=>u("receive"),className:"receive"===x?"gradient-primary text-white border-0":"",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Receive"]})]}),i&&(0,t.jsx)("div",{className:"bg-muted/50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:i.wallet_name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[null===(s=M())||void 0===s?void 0:s.name," • ",P()," USDC"]})]}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(null===(a=M())||void 0===a?void 0:a.color)})]})}),(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{children:"From Chain"}),(0,t.jsxs)(T.Ph,{value:o,onValueChange:m,children:[(0,t.jsx)(T.i4,{children:(0,t.jsx)(T.ki,{})}),(0,t.jsx)(T.Bw,{children:null==i?void 0:i.chains.map(e=>{let s=Z.find(s=>s.id===e.chain);return(0,t.jsx)(T.Ql,{value:e.chain,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(null==s?void 0:s.color)}),null==s?void 0:s.name," (",e.balance," USDC)"]})},e.chain)})})]})]}),"receive"!==x&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(C._,{children:"Amount (USDC)"}),(0,t.jsxs)(N.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(P()),className:"text-xs h-auto p-1",children:["Max: ",P()]})]}),(0,t.jsx)(w.I,{type:"number",step:"0.000001",min:"0",value:h,onChange:e=>v(e.target.value),placeholder:"Enter amount...",disabled:D}),h&&parseFloat(h)>parseFloat(P())&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:"Insufficient balance"})]}),"send"===x&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{children:"Recipient Address"}),(0,t.jsx)(w.I,{value:b,onChange:e=>y(e.target.value),placeholder:"0x...",disabled:D})]}),"bridge"===x&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(C._,{children:"To Chain"}),(0,t.jsxs)(T.Ph,{value:_,onValueChange:k,children:[(0,t.jsx)(T.i4,{children:(0,t.jsx)(T.ki,{})}),(0,t.jsx)(T.Bw,{children:null==i?void 0:i.chains.filter(e=>e.chain!==o).map(e=>{let s=Z.find(s=>s.id===e.chain);return(0,t.jsx)(T.Ql,{value:e.chain,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(null==s?void 0:s.color)}),null==s?void 0:s.name]})},e.chain)})})]})]}),"receive"===x&&i&&(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg border",children:[(0,t.jsx)("h5",{className:"font-medium mb-2",children:"Receive Address"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Send USDC to this address on ",null===(l=M())||void 0===l?void 0:l.name,":"]}),i.chains.filter(e=>e.chain===o).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-background rounded border",children:[(0,t.jsx)("p",{className:"font-mono text-sm break-all flex-1",children:e.address}),(0,t.jsx)(N.z,{type:"button",size:"sm",variant:"ghost",onClick:()=>V(e.address),children:(0,t.jsx)(f.Z,{className:"h-4 w-4"})})]},s))]}),z&&(0,t.jsx)("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded-lg",children:z}),W&&(0,t.jsxs)("div",{className:"text-sm text-secondary bg-secondary/10 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium",children:"Transaction Initiated!"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,t.jsx)("p",{className:"font-mono text-xs break-all flex-1",children:W}),(0,t.jsx)(N.z,{type:"button",size:"sm",variant:"ghost",onClick:()=>window.open(L(W),"_blank"),children:(0,t.jsx)(p.Z,{className:"h-3 w-3"})})]})]}),"receive"!==x&&(0,t.jsx)(N.z,{type:"submit",className:"w-full gradient-primary text-white border-0",disabled:D||!(()=>{if(!i||!h||isNaN(parseFloat(h))||0>=parseFloat(h)||"send"===x&&!b||"bridge"===x&&!_)return!1;let e=parseFloat(P());return!(parseFloat(h)>e)})()||!I,children:D?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.T,{className:"mr-2",size:"sm"}),"Processing Transaction..."]}):"".concat("send"===x?"Send":"Bridge"," ").concat(h||"0"," USDC")})]})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(c.T,{}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Loading transaction interface..."})]})}let R=[{id:"sepolia",name:"Sepolia Testnet",symbol:"ETH",color:"bg-blue-500"},{id:"amoy",name:"Polygon Amoy",symbol:"MATIC",color:"bg-purple-500"},{id:"neon",name:"Neon EVM",symbol:"NEON",color:"bg-green-500"}];function I(e){let{selectedWallet:s,selectedChain:a,onChainChange:l,onWalletsUpdate:n}=e,[i,o]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[j,b]=(0,r.useState)(""),{sdkReady:y,sdk:w}=(0,d.e)(),C=async()=>{if(y&&s&&i){x(!0),b("");try{let e=await w.cryptoWallet.addChainAddress(s.bw_id,{chain_id:i});e.success||e.data?(o(""),n()):b(e.error||"Failed to add chain address")}catch(e){console.error("Failed to add chain address:",e),b(e.message||"Failed to add chain address")}finally{x(!1)}}},_=async e=>{if(y&&s){p(!0);try{await w.cryptoWallet.balance.getChain(s.bw_id,e),n()}catch(e){console.error("Failed to refresh balance:",e)}finally{p(!1)}}},k=e=>{navigator.clipboard.writeText(e)},D=e=>R.find(s=>s.id===e);if(!y)return(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(c.T,{}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Loading chain data..."})]});if(!s)return(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,t.jsx)("p",{children:"Select a wallet to manage chain addresses"})});let S=(()=>{if(!s)return R;let e=s.chains.map(e=>e.chain);return R.filter(s=>!e.includes(s.id))})();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Active Chain"}),(0,t.jsxs)(T.Ph,{value:a,onValueChange:l,children:[(0,t.jsx)(T.i4,{children:(0,t.jsx)(T.ki,{placeholder:"Select chain"})}),(0,t.jsx)(T.Bw,{children:s.chains.map(e=>{let s=D(e.chain);return(0,t.jsx)(T.Ql,{value:e.chain,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(null==s?void 0:s.color)}),(null==s?void 0:s.name)||e.chain]})},e.chain)})})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Connected Chains (",s.chains.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:s.chains.map((e,s)=>{let l=D(e.chain),n=e.chain===a;return(0,t.jsxs)("div",{className:"p-4 border rounded-lg transition-all ".concat(n?"border-primary bg-primary/5":"border-border"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(null==l?void 0:l.color)}),(0,t.jsx)(v.C,{variant:n?"default":"secondary",children:(null==l?void 0:l.name)||e.chain}),n&&(0,t.jsx)(v.C,{variant:"outline",className:"text-primary",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.z,{size:"sm",variant:"ghost",onClick:()=>k(e.address),title:"Copy address",children:(0,t.jsx)(f.Z,{className:"h-3 w-3"})}),(0,t.jsx)(N.z,{size:"sm",variant:"ghost",onClick:()=>_(e.chain),disabled:u,title:"Refresh balance",children:(0,t.jsx)(h.Z,{className:"h-3 w-3 ".concat(u?"animate-spin":"")})})]})]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground font-mono mb-2 break-all",children:e.address}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"USDC Balance"}),(0,t.jsxs)("p",{className:"font-mono",children:[e.balance||"0.00"," USDC"]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Native Balance"}),(0,t.jsxs)("p",{className:"font-mono",children:[e.native_balance||"0.00"," ",null==l?void 0:l.symbol]})]})]})]},s)})})]}),S.length>0&&(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg border-dashed border-2",children:[(0,t.jsxs)("h4",{className:"font-medium mb-4 flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 text-primary"}),"Add Chain Address"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)(T.Ph,{value:i,onValueChange:o,children:[(0,t.jsx)(T.i4,{children:(0,t.jsx)(T.ki,{placeholder:"Select chain to add"})}),(0,t.jsx)(T.Bw,{children:S.map(e=>(0,t.jsx)(T.Ql,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.color)}),e.name,(0,t.jsx)(v.C,{variant:"outline",className:"text-xs",children:e.symbol})]})},e.id))})]})}),j&&(0,t.jsx)("div",{className:"text-sm text-destructive bg-destructive/10 p-3 rounded",children:j}),(0,t.jsx)(N.z,{onClick:C,disabled:m||!i||!y,className:"w-full gradient-primary text-white border-0",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.T,{className:"mr-2",size:"sm"}),"Adding Address..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Add Chain Address"]})})]})]}),0===S.length&&(0,t.jsxs)("div",{className:"text-center py-6 text-muted-foreground text-sm bg-muted/30 rounded-lg border-dashed border-2",children:[(0,t.jsx)("p",{children:"All supported chains have been added to this wallet"}),(0,t.jsx)("p",{className:"text-xs mt-1",children:"Sepolia, Amoy, and Neon EVM are connected"})]})]})}var U=a(5744),E=a(6989),V=a(9675),M=a(5606),P=a(9381),L=a(5400),B=a(3763),$=a(966),O="Tabs",[H,K]=(0,E.b)(O,[V.Pc]),q=(0,V.Pc)(),[Y,Q]=H(O),G=r.forwardRef((e,s)=>{let{__scopeTabs:a,value:l,onValueChange:n,defaultValue:r,orientation:i="horizontal",dir:d,activationMode:c="automatic",...o}=e,m=(0,L.gm)(d),[x,u]=(0,B.T)({prop:l,onChange:n,defaultProp:r});return(0,t.jsx)(Y,{scope:a,baseId:(0,$.M)(),value:x,onValueChange:u,orientation:i,dir:m,activationMode:c,children:(0,t.jsx)(P.WV.div,{dir:m,"data-orientation":i,...o,ref:s})})});G.displayName=O;var J="TabsList",X=r.forwardRef((e,s)=>{let{__scopeTabs:a,loop:l=!0,...n}=e,r=Q(J,a),i=q(a);return(0,t.jsx)(V.fC,{asChild:!0,...i,orientation:r.orientation,dir:r.dir,loop:l,children:(0,t.jsx)(P.WV.div,{role:"tablist","aria-orientation":r.orientation,...n,ref:s})})});X.displayName=J;var ee="TabsTrigger",es=r.forwardRef((e,s)=>{let{__scopeTabs:a,value:l,disabled:n=!1,...r}=e,i=Q(ee,a),d=q(a),c=el(i.baseId,l),o=en(i.baseId,l),m=l===i.value;return(0,t.jsx)(V.ck,{asChild:!0,...d,focusable:!n,active:m,children:(0,t.jsx)(P.WV.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":o,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...r,ref:s,onMouseDown:(0,U.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(l)}),onKeyDown:(0,U.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(l)}),onFocus:(0,U.M)(e.onFocus,()=>{let e="manual"!==i.activationMode;m||n||!e||i.onValueChange(l)})})})});es.displayName=ee;var ea="TabsContent",et=r.forwardRef((e,s)=>{let{__scopeTabs:a,value:l,forceMount:n,children:i,...d}=e,c=Q(ea,a),o=el(c.baseId,l),m=en(c.baseId,l),x=l===c.value,u=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(M.z,{present:n||x,children:({present:a})=>(0,t.jsx)(P.WV.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":o,hidden:!a,id:m,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:u.current?"0s":void 0},children:a&&i})})});function el(e,s){return`${e}-trigger-${s}`}function en(e,s){return`${e}-content-${s}`}et.displayName=ea;var er=a(9311);let ei=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(X,{ref:s,className:(0,er.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});ei.displayName=X.displayName;let ed=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(es,{ref:s,className:(0,er.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});ed.displayName=es.displayName;let ec=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(et,{ref:s,className:(0,er.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});function eo(e){let{wallets:s,onWalletsUpdate:a,isLoading:l=!1}=e,[n,i]=(0,r.useState)(null),[o,m]=(0,r.useState)("sepolia"),{sdkReady:x}=(0,d.e)();(0,r.useEffect)(()=>{s.length>0&&!n&&(i(s[0]),s[0].chains.length>0&&m(s[0].chains[0].chain)),n&&!s.find(e=>e.bw_id===n.bw_id)&&i(s.length>0?s[0]:null)},[s,n]),(0,r.useEffect)(()=>{if(n&&n.chains.length>0){let e=n.chains.find(e=>e.chain===o);e||m(n.chains[0].chain)}},[n,o]);let u=()=>{let e=new Set;return s.forEach(s=>{s.chains.forEach(s=>e.add(s.chain))}),Array.from(e)};return x?l?(0,t.jsxs)("div",{className:"bg-card rounded-xl border",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Crosschain Operations"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading crosschain wallet data..."})]}),(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)(c.T,{}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Fetching wallets from Sepolia, Amoy, and Neon..."})]})]}):(0,t.jsxs)("div",{className:"bg-card rounded-xl border",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Crosschain Operations"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"USDC management across multiple networks"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["$",s.reduce((e,s)=>e+(s.total_value_usd||0),0).toFixed(2)," USDC"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.length," wallet",1!==s.length?"s":""," • ",u().length," network",1!==u().length?"s":""]})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:u().map(e=>(0,t.jsx)(v.C,{variant:e===o?"default":"secondary",className:"capitalize",children:e},e))})]}),n&&(0,t.jsx)("div",{className:"p-4 bg-muted/30 border-b border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium",children:n.wallet_name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[n.chains.length," chain",1!==n.chains.length?"s":""," connected"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-mono",children:["$",n.total_value_usd.toFixed(2)," USDC"]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Portfolio Value"})]})]})}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)(G,{defaultValue:"bridge",className:"space-y-6",children:[(0,t.jsxs)(ei,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(ed,{value:"bridge",children:"Bridge USDC"}),(0,t.jsxs)(ed,{value:"wallets",children:["Wallets (",s.length,")"]}),(0,t.jsx)(ed,{value:"chains",children:"Networks"}),(0,t.jsx)(ed,{value:"history",children:"History"})]}),(0,t.jsxs)(ec,{value:"bridge",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Crosschain Bridge & Transfer"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Send USDC within networks or bridge between Sepolia ↔ Amoy ↔ Neon"})]}),0===s.length?(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDD17"}),(0,t.jsx)("h4",{className:"font-medium",children:"No Wallets Available"}),(0,t.jsx)("p",{className:"text-sm",children:"Create a crosschain wallet first to start bridging USDC"}),(0,t.jsxs)("div",{className:"flex gap-2 justify-center mt-4",children:[(0,t.jsx)(v.C,{variant:"outline",children:"Sepolia"}),(0,t.jsx)(v.C,{variant:"outline",children:"Amoy"}),(0,t.jsx)(v.C,{variant:"outline",children:"Neon"})]})]}):(0,t.jsx)(W,{wallets:s,selectedWallet:n,selectedChain:o,onChainChange:m})]}),(0,t.jsxs)(ec,{value:"wallets",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Crosschain Wallet Management"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Create and manage wallets for crosschain USDC operations"})]}),(0,t.jsx)(A,{wallets:s,onWalletsUpdate:a,selectedWallet:n,onWalletSelect:e=>{i(e),e.chains.length>0&&m(e.chains[0].chain)}})]}),(0,t.jsxs)(ec,{value:"chains",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Network Management"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add and manage addresses across Sepolia, Amoy, and Neon networks"})]}),0===s.length?(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83C\uDF10"}),(0,t.jsx)("h4",{className:"font-medium",children:"No Wallets to Manage"}),(0,t.jsx)("p",{className:"text-sm",children:"Create a wallet first to add network addresses"})]}):(0,t.jsx)(I,{selectedWallet:n,selectedChain:o,onChainChange:m,onWalletsUpdate:a})]}),(0,t.jsxs)(ec,{value:"history",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Crosschain Transaction History"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"View your bridge transactions and transfers across networks"})]}),(0,t.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCCA"}),(0,t.jsx)("p",{className:"font-medium",children:"Transaction History Coming Soon"}),(0,t.jsx)("p",{className:"text-sm",children:"Track your crosschain bridges and transfers"})]})]})]})})]}):(0,t.jsxs)("div",{className:"bg-card rounded-xl border",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-border",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Crosschain Operations"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Initializing crosschain SDK..."})]}),(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)(c.T,{}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Loading crosschain interface..."})]})]})}ec.displayName=et.displayName;var em=a(8063),ex=a(9213);let eu=(0,ex.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),eh=r.forwardRef((e,s)=>{let{className:a,variant:l,...n}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,er.cn)(eu({variant:l}),a),...n})});eh.displayName="Alert";let ef=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,er.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})});ef.displayName="AlertTitle";let ep=r.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,er.cn)("text-sm [&_p]:leading-relaxed",a),...l})});ep.displayName="AlertDescription";var eg=a(3732);function ej(){let{user:e}=(0,l.useAuth)(),{mode:s}=(0,i.useMode)(),{sdk:a,isReady:n,isAuthenticated:o,canMakeRequests:m,error:x}=(0,d.e)(),[f,p]=(0,r.useState)([]),[j,w]=(0,r.useState)(!0),[C,_]=(0,r.useState)(!1),[D,S]=(0,r.useState)(null);(0,r.useEffect)(()=>{n&&o&&e&&z()},[n,o,e]);let z=async()=>{if(!m||!(null==e?void 0:e.user_id)){S("SDK not ready or user not authenticated"),w(!1);return}try{w(!0),S(null),console.log("\uD83D\uDD0D Loading wallets for user:",e.user_id);let s="string"==typeof e.user_id?parseInt(e.user_id):e.user_id,t=await a.cryptoWallet.getUserWallets(s);if(console.log("\uD83D\uDCE5 Raw wallet response:",t),console.log("\uD83D\uDCCA Response.data type:",typeof t.data),console.log("\uD83D\uDCCA Is response.data array?:",Array.isArray(t.data)),console.log("\uD83D\uDCCA Response.data content:",t.data),t.success&&t.data){let e=[];if(Array.isArray(t.data)?e=t.data:t.data.wallets&&Array.isArray(t.data.wallets)?e=t.data.wallets:t.data.crypto_wallets&&Array.isArray(t.data.crypto_wallets)?e=t.data.crypto_wallets:"object"==typeof t.data&&null!==t.data?e=[t.data]:(console.warn("⚠️ Unexpected response.data structure, treating as empty array"),e=[]),console.log("\uD83D\uDCCB Processed wallets array:",e),0===e.length){console.log("ℹ️ No crypto wallets found for user"),p([]);return}let s=await Promise.all(e.map(async e=>{try{let s=await a.cryptoWallet.balance.getTotal(e.id),t=[],l=0;if(s.success&&s.data)for(let[e,a]of Object.entries(s.data)){let s={chain:e,address:a.address||"N/A",balance:a.usdc_balance||"0",native_balance:a.native_balance||"0",usd_value:a.usdc_value_usd||0,native_usd_value:a.native_value_usd||0};t.push(s),l+=(s.usd_value||0)+(s.native_usd_value||0)}return{id:e.id,bw_id:e.id,name:e.wallet_name,wallet_name:e.wallet_name,user_id:e.user_id,created_at:e.created_at,chains:t,total_value_usd:l}}catch(s){return console.error("Failed to load balance for wallet ".concat(e.id,":"),s),{id:e.id,bw_id:e.id,name:e.wallet_name,wallet_name:e.wallet_name,user_id:e.user_id,created_at:e.created_at,chains:[],total_value_usd:0}}}));p(s),console.log("✅ Wallets loaded:",s)}else throw Error(t.message||"Failed to load wallets")}catch(e){console.error("❌ Failed to load wallets:",e),S(e.message||"Failed to load wallets")}finally{w(!1)}},A=async()=>{_(!0),await z(),_(!1)},T=async(e,s)=>{try{console.log("\uD83D\uDD04 Refreshing balance for wallet ".concat(e,", chain ").concat(s));let t=await a.cryptoWallet.balance.getChain(e,s);t.success&&p(a=>a.map(a=>{if(a.id===e){let e=a.chains.map(e=>e.chain===s?{...e,balance:t.data.usdc_balance||"0",native_balance:t.data.native_balance||"0",usd_value:t.data.usdc_value_usd||0,native_usd_value:t.data.native_value_usd||0}:e),l=e.reduce((e,s)=>e+(s.usd_value||0)+(s.native_usd_value||0),0);return{...a,chains:e,total_value_usd:l}}return a}))}catch(e){console.error("Failed to refresh chain balance:",e)}},F=async()=>{console.log("Create new wallet")};if(!n)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)(c.T,{size:"lg"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Initializing SDK..."})]})});if(x)return(0,t.jsx)("div",{className:"max-w-2xl mx-auto mt-8",children:(0,t.jsxs)(eh,{variant:"destructive",children:[(0,t.jsx)(em.Z,{className:"h-4 w-4"}),(0,t.jsxs)(ep,{children:["SDK Error: ",x]})]})});if(!o)return(0,t.jsx)("div",{className:"max-w-2xl mx-auto mt-8",children:(0,t.jsxs)(eh,{children:[(0,t.jsx)(em.Z,{className:"h-4 w-4"}),(0,t.jsx)(ep,{children:"Please log in to access your wallet dashboard."})]})});if(j)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)(c.T,{size:"lg"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading your wallets..."})]})});if(D)return(0,t.jsxs)("div",{className:"max-w-2xl mx-auto mt-8",children:[(0,t.jsxs)(eh,{variant:"destructive",children:[(0,t.jsx)(em.Z,{className:"h-4 w-4"}),(0,t.jsx)(ep,{children:D})]}),(0,t.jsxs)(N.z,{onClick:z,variant:"outline",className:"mt-4",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Retry"]})]});let Z=f.reduce((e,s)=>e+s.total_value_usd,0),W=f.length,R=f.reduce((e,s)=>e+s.chains.length,0);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(eg.ZP,{size:"lg",className:"mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Wallet Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your blockchain assets and operations"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsx)(u,{title:"Total Portfolio",amount:Z,currency:"USD",trend:5.2,className:"md:col-span-2"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"p-4 bg-card rounded-xl border",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:W}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Wallets"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-secondary",children:R}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Chains"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(N.z,{onClick:A,disabled:C,variant:"outline",className:"flex-1",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2 ".concat(C?"animate-spin":"")}),"Refresh"]}),(0,t.jsxs)(N.z,{onClick:F,className:"gradient-primary text-white border-0 flex-1",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Add Wallet"]})]})]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Your Wallets"}),(0,t.jsxs)(v.C,{variant:"secondary",className:"text-xs",children:[W," wallet",1!==W?"s":""]})]}),0===f.length?(0,t.jsxs)("div",{className:"p-8 text-center bg-muted/30 rounded-xl border-2 border-dashed border-muted-foreground/25",children:[(0,t.jsx)(k.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h4",{className:"font-medium mb-2",children:"No wallets found"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first wallet to get started"}),(0,t.jsxs)(N.z,{onClick:F,className:"gradient-primary text-white border-0",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Create Wallet"]})]}):f.map(e=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-card rounded-xl border security-glow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium",children:e.name}),(0,t.jsxs)(v.C,{variant:"outline",className:"text-xs",children:["ID: ",e.id]})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-secondary",children:["$",e.total_value_usd.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.chains.length," chain",1!==e.chains.length?"s":""," connected"]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[e.chains.map((s,a)=>(0,t.jsx)(b,{chain:s,onRefresh:()=>T(e.id,s.chain),onSend:(e,s)=>{console.log("Send from:",e,s)},onReceive:(e,s)=>{console.log("Receive to:",e,s)}},"".concat(e.id,"-").concat(s.chain,"-").concat(a))),0===e.chains.length&&(0,t.jsx)("div",{className:"p-4 text-center bg-muted/20 rounded-lg border border-dashed",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No chains connected to this wallet"})})]})]},e.id))]}),(0,t.jsx)("div",{className:"lg:col-span-2",children:"chat"===s?(0,t.jsx)(y.Z,{}):(0,t.jsx)(eo,{wallets:f,onWalletsUpdate:z})})]})]})}function eN(){let{isAuthenticated:e,ekycStatus:s,isLoading:a}=(0,l.useRequireAuth)();return a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(c.T,{size:"lg"})}):e&&"APPROVED"===s?(0,t.jsx)(n.Z,{children:(0,t.jsx)(ej,{})}):null}},2609:function(e,s,a){"use strict";a.d(s,{$N:function(){return h},Vq:function(){return d},cZ:function(){return x},fK:function(){return u},hg:function(){return c}});var t=a(7437),l=a(2265),n=a(8712),r=a(2549),i=a(9311);let d=n.fC,c=n.xz,o=n.h_;n.x8;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=n.aV.displayName;let x=l.forwardRef((e,s)=>{let{className:a,children:l,...d}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(n.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[l,(0,t.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(r.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=n.VY.displayName;let u=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};u.displayName="DialogHeader";let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});h.displayName=n.Dx.displayName;let f=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})});f.displayName=n.dk.displayName},1908:function(e,s,a){"use strict";a.d(s,{I:function(){return r}});var t=a(7437),l=a(2265),n=a(9311);let r=l.forwardRef((e,s)=>{let{className:a,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});r.displayName="Input"},6672:function(e,s,a){"use strict";a.d(s,{_:function(){return c}});var t=a(7437),l=a(2265),n=a(6743),r=a(9213),i=a(9311);let d=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.f,{ref:s,className:(0,i.cn)(d(),a),...l})});c.displayName=n.f.displayName},8094:function(e,s,a){"use strict";a.d(s,{Bw:function(){return p},DI:function(){return m},Ph:function(){return o},Ql:function(){return j},i4:function(){return u},ki:function(){return x}});var t=a(7437),l=a(2265),n=a(3425),r=a(3523),i=a(9224),d=a(2442),c=a(9311);let o=n.fC,m=n.ZA,x=n.B4,u=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(n.xz,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[l,(0,t.jsx)(n.JO,{asChild:!0,children:(0,t.jsx)(r.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})});h.displayName=n.u_.displayName;let f=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(r.Z,{className:"h-4 w-4"})})});f.displayName=n.$G.displayName;let p=l.forwardRef((e,s)=>{let{className:a,children:l,position:r="popper",...i}=e;return(0,t.jsx)(n.h_,{children:(0,t.jsxs)(n.VY,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...i,children:[(0,t.jsx)(h,{}),(0,t.jsx)(n.l_,{className:(0,c.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(f,{})]})})});p.displayName=n.VY.displayName;let g=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})});g.displayName=n.__.displayName;let j=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(n.ck,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.wU,{children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(n.eT,{children:l})]})});j.displayName=n.ck.displayName;let N=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(n.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});N.displayName=n.Z0.displayName}},function(e){e.O(0,[367,708,187,965,727,206,971,864,744],function(){return e(e.s=5877)}),_N_E=e.O()}]);