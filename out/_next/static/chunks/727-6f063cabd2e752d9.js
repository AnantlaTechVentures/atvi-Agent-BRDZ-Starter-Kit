"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[727],{9744:function(e,t,r){r.d(t,{Z:function(){return S}});var a=r(7437),s=r(1396),n=r.n(s),o=r(4033),i=r(220),l=r(3023),c=r(5119),u=r(2176),d=r(9031),g=r(8244),m=r(9409),h=r(5883),f=r(3732);let x=[{name:"Dashboard",href:"/dashboard",icon:c.Z},{name:"AI Chat Mode",href:"/chat",icon:u.Z},{name:"Manual Mode",href:"/manual",icon:d.Z},{name:"Transaction History",href:"/transactions",icon:g.Z},{name:"Settings",href:"/settings",icon:m.Z}];function v(){let e=(0,o.usePathname)(),{user:t,logout:r}=(0,i.useAuth)();return(0,a.jsxs)("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto bg-card border-r border-border px-6 py-4 light-mode-card dark:dark-mode-card theme-transition",children:[(0,a.jsx)("div",{className:"flex h-16 shrink-0 items-center gap-3",children:(0,a.jsx)(f.ZP,{size:"md"})}),(0,a.jsxs)("nav",{className:"flex flex-1 flex-col",children:[(0,a.jsx)("ul",{role:"list",className:"flex flex-1 flex-col gap-y-2",children:x.map(t=>{let r=e===t.href;return(0,a.jsx)("li",{children:(0,a.jsxs)(n(),{href:t.href,className:"group flex gap-x-3 rounded-lg p-3 text-sm leading-6 font-semibold transition-all duration-200 ".concat(r?"bg-primary text-primary-foreground shadow-md":"text-foreground hover:bg-muted hover:text-foreground hover:shadow-sm"),children:[(0,a.jsx)(t.icon,{className:"h-5 w-5 shrink-0"}),t.name]})},t.name)})}),(0,a.jsxs)("div",{className:"mt-auto space-y-4",children:[(0,a.jsx)("div",{className:"border-t border-border pt-4",children:(0,a.jsx)("div",{className:"flex items-center gap-3 px-3 py-2",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:null==t?void 0:t.username}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:null==t?void 0:t.email})]})})}),(0,a.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start gap-x-3 text-destructive hover:text-destructive hover:bg-destructive/10 light-shadow dark:dark-shadow theme-transition",onClick:r,children:[(0,a.jsx)(h.Z,{className:"h-5 w-5"}),"Logout"]})]})]})]})}var p=r(9155),b=r(8004),y=r(862);function k(){let{mode:e,toggleMode:t}=(0,y.useMode)(),r=(0,o.useRouter)(),s=(0,o.usePathname)();return(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-1",children:[(0,a.jsxs)(l.z,{variant:"/chat"===s?"default":"ghost",size:"sm",onClick:()=>{"/chat"!==s&&(t(),r.push("/chat"))},className:"/chat"===s?"gradient-primary text-white border-0":"",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"AI Chat"]}),(0,a.jsxs)(l.z,{variant:"/manual"===s?"default":"ghost",size:"sm",onClick:()=>{"/manual"!==s&&(t(),r.push("/manual"))},className:"/manual"===s?"gradient-primary text-white border-0":"",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Manual"]})]})}var N=r(4178);function j(){let{user:e}=(0,i.useAuth)();return(0,a.jsx)("header",{className:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-40 light-shadow dark:dark-shadow theme-transition",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 lg:hidden",children:[(0,a.jsx)(l.z,{variant:"ghost",size:"icon",className:"light-mode-button dark:dark-mode-button theme-transition",children:(0,a.jsx)(b.Z,{className:"h-5 w-5"})}),(0,a.jsx)(f.ZP,{size:"sm"})]}),(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Dashboard"})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(k,{}),(0,a.jsx)(N.Z,{}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(p.C,{variant:"secondary",className:"bg-secondary/10 text-secondary light-shadow dark:dark-shadow theme-transition",children:"Verified"})})]})]})})}function S(e){let{children:t}=e;return(0,a.jsx)("div",{className:"min-h-screen bg-background theme-transition",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:(0,a.jsx)(v,{})}),(0,a.jsxs)("div",{className:"lg:pl-72 flex-1",children:[(0,a.jsx)(j,{}),(0,a.jsx)("main",{className:"p-6 bg-background/50 theme-transition",children:t})]})]})})}},1121:function(e,t,r){r.d(t,{T:function(){return n}});var a=r(7437),s=r(9311);function n(e){let{size:t="md",className:r}=e;return(0,a.jsx)("div",{className:(0,s.cn)("animate-spin rounded-full border-2 border-current border-t-transparent",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t],r),children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})}},3732:function(e,t,r){r.d(t,{ZP:function(){return d}});var a=r(7437),s=r(1350),n=r(2265),o=r(6691),i=r.n(o),l=r(9036);let c={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},u={sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl"};function d(e){let{size:t="md",showText:r=!0,className:o=""}=e,{theme:d,resolvedTheme:g}=(0,s.F)(),[m,h]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{h(!0)},[]),!m)return(0,a.jsxs)("div",{className:"flex items-center gap-3 ".concat(o),children:[(0,a.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,a.jsx)(l.Z,{className:"".concat(c[t]," text-primary")})}),r&&(0,a.jsx)("span",{className:"font-bold ".concat(u[t]," text-muted-foreground"),children:"ABSK"})]});let v="dark"===(g||d)?"/images/logo-white.png":"/images/logo-blue.png";return(0,a.jsxs)("div",{className:"flex items-center gap-3 ".concat(o),children:[(0,a.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:f?(0,a.jsx)(l.Z,{className:"".concat(c[t]," text-primary")}):(0,a.jsx)(i(),{src:v,alt:"BRDZ Logo",width:64,height:64,className:"".concat(c[t]," object-contain"),priority:!0,onError:()=>{console.error("Logo image failed to load:",v),x(!0)}})}),r&&(0,a.jsx)("span",{className:"font-bold ".concat(u[t]," text-foreground"),children:"ABSK"})]})}},4178:function(e,t,r){r.d(t,{Z:function(){return u}});var a=r(7437),s=r(3023),n=r(1350),o=r(4135),i=r(3088),l=r(612),c=r(2265);function u(){let{theme:e,setTheme:t}=(0,n.F)(),[r,u]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{u(!0)},[]),r)?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s.z,{variant:"ghost",size:"icon",onClick:()=>{"light"===e?t("dark"):t("light")},className:"relative w-10 h-10 rounded-lg transition-all duration-300 hover:bg-muted/80 hover:scale-105 active:scale-95",title:(()=>{switch(e){case"light":return"Switch to Dark Mode";case"dark":return"Switch to Light Mode";default:return"Switch Theme"}})(),children:(0,a.jsxs)("div",{className:"relative w-5 h-5",children:[(0,a.jsx)(o.Z,{className:"absolute inset-0 h-5 w-5 transition-all duration-300 ".concat("light"===e?"rotate-0 scale-100 text-amber-500":"rotate-90 scale-0 text-muted-foreground")}),(0,a.jsx)(i.Z,{className:"absolute inset-0 h-5 w-5 transition-all duration-300 ".concat("dark"===e?"rotate-0 scale-100 text-blue-400":"-rotate-90 scale-0 text-muted-foreground")}),(0,a.jsx)(l.Z,{className:"absolute inset-0 h-5 w-5 transition-all duration-300 ".concat("system"===e?"rotate-0 scale-100 text-muted-foreground":"rotate-90 scale-0 text-muted-foreground")})]})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,a.jsxs)(s.z,{variant:"light"===e?"default":"ghost",size:"sm",onClick:()=>t("light"),className:"h-8 px-3 text-xs transition-all duration-200",children:[(0,a.jsx)(o.Z,{className:"h-3 w-3 mr-1"}),"Light"]}),(0,a.jsxs)(s.z,{variant:"dark"===e?"default":"ghost",size:"sm",onClick:()=>t("dark"),className:"h-8 px-3 text-xs transition-all duration-200",children:[(0,a.jsx)(i.Z,{className:"h-3 w-3 mr-1"}),"Dark"]}),(0,a.jsxs)(s.z,{variant:"system"===e?"default":"ghost",size:"sm",onClick:()=>t("system"),className:"h-8 px-3 text-xs transition-all duration-200",children:[(0,a.jsx)(l.Z,{className:"h-3 w-3 mr-1"}),"Auto"]})]})]}):(0,a.jsx)(s.z,{variant:"ghost",size:"icon",className:"w-10 h-10",children:(0,a.jsx)("div",{className:"w-5 h-5 bg-muted-foreground/20 rounded animate-pulse"})})}},9155:function(e,t,r){r.d(t,{C:function(){return i}});var a=r(7437);r(2265);var s=r(9213),n=r(9311);let o=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(o({variant:r}),t),...s})}},3023:function(e,t,r){r.d(t,{z:function(){return c}});var a=r(7437),s=r(2265),n=r(7256),o=r(9213),i=r(9311);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:c=!1,...u}=e,d=c?n.g7:"button";return(0,a.jsx)(d,{className:(0,i.cn)(l({variant:s,size:o,className:r})),ref:t,...u})});c.displayName="Button"},220:function(e,t,r){r.r(t),r.d(t,{AuthProvider:function(){return i},useAuth:function(){return l},useOptionalAuth:function(){return u},useRequireAuth:function(){return c}});var a=r(7437),s=r(2265),n=r(4033);let o=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,n]=(0,s.useState)({user:null,token:null,isAuthenticated:!1,isLoading:!0,ekycStatus:"PENDING"});(0,s.useEffect)(()=>{i()},[]);let i=()=>{try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("user_data"),r=localStorage.getItem("user_id"),a=localStorage.getItem("username"),s=localStorage.getItem("email");if(e&&t){let r=JSON.parse(t);n({user:l(r),token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:r.ekyc_status||"PENDING"})}else if(e&&r&&s){let t={user_id:r,id:parseInt(r)||void 0,email:s,username:a||"",ekyc_status:"PENDING"};n({user:t,token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:"PENDING"})}else n(e=>({...e,isLoading:!1}))}catch(e){console.error("Error checking stored auth:",e),n(e=>({...e,isLoading:!1}))}},l=e=>{var t,r;return{...e,user_id:(null===(t=e.user_id)||void 0===t?void 0:t.toString())||(null===(r=e.id)||void 0===r?void 0:r.toString())||"",id:"number"==typeof e.user_id?e.user_id:"number"==typeof e.id?e.id:parseInt(e.user_id)||parseInt(e.id)||void 0}},c=async(e,t)=>{try{let r=l(t);localStorage.setItem("auth_token",e),localStorage.setItem("user_data",JSON.stringify(r)),localStorage.setItem("user_id",r.user_id),localStorage.setItem("username",r.username),localStorage.setItem("email",r.email),n({user:r,token:e,isAuthenticated:!0,isLoading:!1,ekycStatus:r.ekyc_status||"PENDING"}),console.log("✅ User logged in:",r)}catch(e){throw console.error("❌ Login error:",e),e}},u=async()=>{try{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),localStorage.removeItem("email"),n({user:null,token:null,isAuthenticated:!1,isLoading:!1,ekycStatus:"PENDING"}),console.log("\uD83D\uDC4B User logged out")}catch(e){throw console.error("❌ Logout error:",e),e}},d=async()=>{i()};return(0,a.jsx)(o.Provider,{value:{...r,login:c,logout:u,updateEkycStatus:e=>{if(n(t=>({...t,ekycStatus:e})),r.user){let t={...r.user,ekyc_status:e};localStorage.setItem("user_data",JSON.stringify(t)),n(e=>({...e,user:t}))}},refreshUserProfile:d},children:t})}function l(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function c(){let{isAuthenticated:e,ekycStatus:t,isLoading:r}=l(),a=(0,n.useRouter)();return(0,s.useEffect)(()=>{r||(e?"APPROVED"!==t&&(console.log("\uD83D\uDCCB Redirecting to eKYC - status:",t),a.push("/ekyc")):(console.log("\uD83D\uDD10 Redirecting to login - not authenticated"),a.push("/auth/login")))},[e,t,r,a]),{isAuthenticated:e,ekycStatus:t,isLoading:r}}function u(){let{isAuthenticated:e,ekycStatus:t,isLoading:r,user:a}=l();return{isAuthenticated:e,ekycStatus:t,isLoading:r,user:a,isFullyAuthenticated:e&&"APPROVED"===t}}},862:function(e,t,r){r.r(t),r.d(t,{ModeProvider:function(){return o},useMode:function(){return i}});var a=r(7437),s=r(2265);let n=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)("chat");return(0,a.jsx)(n.Provider,{value:{mode:r,setMode:o,toggleMode:()=>{o(e=>"chat"===e?"manual":"chat")}},children:t})}function i(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useMode must be used within a ModeProvider");return e}},6951:function(e,t,r){r.d(t,{e:function(){return o}});var a=r(2265),s=r(790),n=r.n(s);let o=()=>{let[e,t]=(0,a.useState)({sdkReady:!1,isLoading:!0,error:null,hasApiKey:!1,hasToken:!1,baseUrl:null}),[r,s]=(0,a.useState)({user_id:null,username:null,email:null,isLoggedIn:!1});(0,a.useEffect)(()=>{let e=async()=>{try{console.log("\uD83D\uDE80 Initializing BRDZ SDK..."),t(e=>({...e,isLoading:!0,error:null}));let e="https://api.brdz.link/api",r="d99f8069e7620b091064f28e4c638e48aa630e730d22f278490bf5acfe17dc3f";if(!e)throw Error("NEXT_PUBLIC_BRDZ_API_BASE environment variable is required");if(!r)throw Error("NEXT_PUBLIC_BRDZ_API_KEY environment variable is required");let a=n().config;a.setBaseUrl(e),a.setApiKey(r),console.log("\uD83D\uDD27 SDK Base URL:",e),console.log("\uD83D\uDD11 API Key loaded (first 8 chars):",r.substring(0,8)+"...");let o=localStorage.getItem("auth_token"),i=localStorage.getItem("user_id"),l=localStorage.getItem("username"),c=localStorage.getItem("email");o&&(a.setToken(o),console.log("\uD83D\uDD10 JWT token restored from localStorage"),s({user_id:i,username:l,email:c,isLoggedIn:!0}));let u=n().utils.validateSDKSetup();t({sdkReady:!0,isLoading:!1,error:null,hasApiKey:!!r,hasToken:!!o,baseUrl:e}),console.log("✅ SDK initialized successfully"),u&&console.log("✅ SDK setup validation passed")}catch(e){console.error("❌ SDK initialization failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"SDK initialization failed"}))}};e()},[]);let o=(0,a.useCallback)(async(e,r)=>{try{t(e=>({...e,isLoading:!0,error:null}));let a=await n().auth.loginUser(e,r);if(a.success&&a.data.token){let{token:e,user:r}=a.data;return n().config.setToken(e),localStorage.setItem("auth_token",e),localStorage.setItem("user_id",r.id.toString()),localStorage.setItem("username",r.username||""),localStorage.setItem("email",r.email||""),t(e=>({...e,hasToken:!0,isLoading:!1})),s({user_id:r.id.toString(),username:r.username,email:r.email,isLoggedIn:!0}),console.log("✅ Login successful"),{success:!0,data:r}}throw Error(a.message||"Login failed")}catch(e){return console.error("❌ Login failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"Login failed"})),{success:!1,error:e.message}}},[]),i=(0,a.useCallback)(async e=>{try{t(e=>({...e,isLoading:!0,error:null}));let r=await n().auth.registerUser(e);if(t(e=>({...e,isLoading:!1})),r.success)return console.log("✅ Registration successful"),{success:!0,data:r.data};throw Error(r.message||"Registration failed")}catch(e){return console.error("❌ Registration failed:",e),t(t=>({...t,isLoading:!1,error:e.message||"Registration failed"})),{success:!1,error:e.message}}},[]),l=(0,a.useCallback)(async e=>{try{localStorage.setItem("auth_token",e),n().config.setToken(e),t(e=>({...e,hasToken:!0})),console.log("\uD83D\uDD04 Token updated successfully")}catch(e){console.error("❌ Token update failed:",e),t(t=>({...t,error:e.message}))}},[]),c=(0,a.useCallback)(async()=>{try{localStorage.removeItem("auth_token"),localStorage.removeItem("user_id"),localStorage.removeItem("username"),localStorage.removeItem("email"),n().config.setToken(""),t(e=>({...e,hasToken:!1,error:null})),s({user_id:null,username:null,email:null,isLoggedIn:!1}),console.log("\uD83D\uDC4B Logout successful")}catch(e){console.error("❌ Logout error:",e)}},[]),u=(0,a.useCallback)(()=>{console.log("\uD83D\uDD0D SDK Debug Information:"),n().utils.debugHeaders(),console.log("Current State:",e),console.log("Current User:",r)},[e,r]),d=(0,a.useCallback)(async()=>{try{t(e=>({...e,isLoading:!0,error:null}));let e=await n().testnet.getChainList();if(t(e=>({...e,isLoading:!1})),e.success)return console.log("✅ API connection test successful"),{success:!0,message:"API connection working"};throw Error("API test failed")}catch(e){return console.error("❌ API connection test failed:",e),t(t=>({...t,isLoading:!1,error:"API connection failed: ".concat(e.message)})),{success:!1,error:e.message}}},[]),g=(0,a.useCallback)(async()=>{if(!r.user_id)throw Error("User not logged in");try{let e=await n().auth.getUserProfile(r.user_id);return e}catch(e){throw console.error("❌ Failed to get user profile:",e),e}},[r.user_id]);return{...e,user:r,login:o,register:i,logout:c,updateToken:l,getUserProfile:g,debugSDK:u,testConnection:d,sdk:n(),shortcuts:{getWalletBalance:()=>n().wallet.getBalance(),getWalletHistory:()=>n().wallet.getHistory(),createCryptoWallet:e=>n().cryptoWallet.createWallet(e),getUserCryptoWallets:e=>n().cryptoWallet.getUserWallets(e),getMCPStats:()=>n().mcp.getDashboardStats(),getRecentOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return n().mcp.getRecentOrders({limit:e})},getAllTransactions:()=>n().transactions.getAll(),getTransactionById:e=>n().transactions.getById(e),getUSDCBalance:(e,t)=>n().crosschain.getUSDCBalance(e,t),getTestnetChains:()=>n().testnet.getChainList(),requestTestnetFaucet:e=>n().testnet.requestFaucetTransfer(e)},get isAuthenticated(){return e.hasToken&&r.isLoggedIn},get isReady(){return e.sdkReady&&!e.isLoading},get canMakeRequests(){return e.sdkReady&&e.hasApiKey&&!e.isLoading}}}},9311:function(e,t,r){r.d(t,{cn:function(){return n}});var a=r(7042),s=r(4769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}}]);